@model GSU.Museum.Web.Models.StandViewModel
@{
    ViewData["Title"] = "Edit stand";
}

@{
    <form id="form" enctype="multipart/form-data">
        <input type="hidden" name="id" value="@Model.Id" />
        <input type="hidden" name="hallId" value="@ViewBag.HallId" />

        <div class="form-group">
            <label for="titleBe">Belarusian title</label>
            <input type="text" name="titleBe" class="form-control" value="@Model.TitleBe" />
        </div>
        <div class="form-group">
            <label for="titleRu">Russian title</label>
            <input type="text" name="titleRu" class="form-control" value="@Model.TitleRu" />
        </div>
        <div class="form-group">
            <label for="titleEn">English title</label>
            <input type="text" name="titleEn" id="titleEn" class="form-control" value="@Model.TitleEn" />
        </div>

        <div class="form-group">
            <label for="descriptionBe">Stand description (Be)</label>
            <textarea name="descriptionBe" class="form-control textarea-static" rows="3">@Model.DescriptionBe</textarea>
        </div>
        <div class="form-group">
            <label for="descriptionRu">Stand description (Ru)</label>
            <textarea name="descriptionRu" class="form-control textarea-static" rows="3">@Model.DescriptionRu</textarea>
        </div>
        <div class="form-group">
            <label for="descriptionEn">Stand description (En)</label>
            <textarea name="descriptionEn" class="form-control textarea-static" rows="3">@Model.DescriptionEn</textarea>
        </div>
        <div class="form-group">
            <h5>Экспонаты</h5>
            @if (Model.Exhibits?.Count != 0)
            {
                <div>
                    @foreach (var exhibit in Model.Exhibits)
                    {
                        <div class="d-flex flex-row justify-content-between">
                            <input type="hidden" name="exhibits" value="@exhibit.Id" />
                            <p style="width:20%">@exhibit.TitleBe</p> <p style="width:20%">@exhibit.TitleEn</p> <p style="width:20%">@exhibit.TitleRu</p>
                            <div class="d-flex flex-row">
                                <input type="button" class="btn btn-outline-secondary" onclick="MoveUpRow(this)" value="&#8593;" />
                                <input type="button" class="btn btn-outline-secondary" onclick="MoveDownRow(this)" value="&#8595;" />
                            </div>
                        </div>
                    }
                </div>
            }
            else
            {
                <p>No</p>
            }
        </div>


        <div class="form-group">
            <label for="state">State</label>
            <input type="checkbox" id="state" name="state" value="true" checked="@Model.State" class="form-check-inline" />
            <input type="hidden" id="state" name="state" value="false" />
        </div>
        <div class="form-group">
            <input type="button" onclick="LoadFile('#inputFile')" value="Upload" class="btn btn-outline-secondary" />
            <input id="inputFile" style="visibility: hidden" type="file" name="file" />
        </div>
        <div class="flex-row form-group" id="imageBlock">
            <div style='margin: 5px;'>
                @if (Model.Photo != null)
                {
                    <input type="hidden" value="@Convert.ToBase64String(Model.Photo.Photo)" name="photo" />
                    var base64 = Convert.ToBase64String(Model.Photo.Photo);
                    var imgSrc = String.Format("data:image/gif;base64,{0}", base64);


                    <img class="img-thumbnail small-image img-small-loaded" src="@imgSrc" />
                    <input type="button" class="btn-outline-secondary btn-close" onclick="RemoveBlock(this)" value="x" />

                }
            </div>
        </div>
        <div class="form-group">
            <input type="button" onclick="edit('@Model.Id', 'titleEn', '/Stands/Edit/@Model.Id')" value="Save" class="btn btn-outline-secondary" />
        </div>
    </form>
}
